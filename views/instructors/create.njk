{% extends "layout.njk" %}

{% block content %}
<form class="card" method="POST" action="/instructors">
    <section 
        class="avatar" 
        id="avatar" 
        style="background-size: cover;">
    </section>
    <section class="details">
        <h3>Novo Instrutor</h3>

        <div class="item">
            <div>Avatar URL</div>
            <div>
                <input type="url" name="avatar_url" placeholder="Ex: http://">
            </div>
        </div>

        <div class="item">
            <div>Instructor</div>
            <div>
                <input type="text" name="name" placeholder="Nome do Instrutor">
            </div>
        </div>
        <div class="item">
            <div>Data de Nascimento</div>
            <div>
                <input type="date" name="birth">
            </div>
        </div>

        <div class="item">
            <div>Sexo</div>
            <div>
                <span><input type="radio" name="gender" value="M" checked>Masculino</span>
                <span><input type="radio" name="gender" value="F">Feminino</span>
            </div>
        </div>

        <div class="item">
            <div>Area de Atuação</div>
            <div>
                <input type="text" name="services" placeholder="Separe cada item por virgula">
            </div>
        </div>

        <button type="submit">Salvar</button>
    </section>
</form>

<script>
    const CLIENT_ID = 'Lr8xi0QHVpcF6BC5RPCgMYz4fZQkTRvcKp01Fj_U9G4'; // Substitua 'YOUR_ACCESS_KEY' pelo seu Client-ID
    const COLLECTION_ID = '8325170';
    const ITEMS_PER_PAGE = 30
    fetch(`https://api.unsplash.com/collections/${COLLECTION_ID}/photos?client_id=${CLIENT_ID}&${ITEMS_PER_PAGE}`)
    .then(response => response.json())
    .then(data => {
        // Seleciona uma imagem aleatoriamente da coleção
        const randomImage = data[Math.floor(Math.random() * data.length)];
        const imageUrl = randomImage.urls.regular;
        document.getElementById('avatar').style.backgroundImage = `url(${imageUrl})`;
    })
    .catch(error => console.error('Error fetching image:', error));
</script>
{% endblock content %}